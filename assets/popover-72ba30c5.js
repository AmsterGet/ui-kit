import{c as lt,j as Z}from"./bind-68cebb00.js";import{r as l,a as ut}from"./index-c013ead5.js";import{i as ct,a as ie,p as ft,b as W,g as ge,u as dt,c as Ze,d as Ae,e as pt,h as mt,o as vt,f as gt,j as bt,k as ht}from"./floating-ui.react-dom-0b2262fd.js";import"./index-169ee69c.js";function ee(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function $(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&ct(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function yt(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function Je(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function Et(t){return t.mozInputSource===0&&t.isTrusted?!0:Te()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Rt(t){return xt()?!1:!Te()&&t.width===0&&t.height===0||Te()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function wt(){return/apple/i.test(navigator.vendor)}function Te(){const t=/android/i;return t.test(yt())||t.test(Je())}function xt(){return Je().includes("jsdom/")}function Oe(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function Tt(t){return"nativeEvent"in t}function St(t){return t.matches("html,body")}function U(t){return(t==null?void 0:t.ownerDocument)||document}function be(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function te(t){return"composedPath"in t?t.composedPath()[0]:t.target}const It="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Qe(t){return ie(t)&&t.matches(It)}function he(t){t.preventDefault(),t.stopPropagation()}function Ct(t){return t?t.getAttribute("role")==="combobox"&&Qe(t):!1}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Pt=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ce=Pt.join(","),ze=typeof Element>"u",re=ze?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,fe=!ze&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},de=function t(e,n){var r;n===void 0&&(n=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),i=o===""||o==="true",a=i||n&&e&&t(e.parentNode);return a},kt=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},At=function(e,n,r){if(de(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(ce));return n&&re.call(e,ce)&&o.unshift(e),o=o.filter(r),o},Ot=function t(e,n,r){for(var o=[],i=Array.from(e);i.length;){var a=i.shift();if(!de(a,!1))if(a.tagName==="SLOT"){var u=a.assignedElements(),c=u.length?u:a.children,m=t(c,!0,r);r.flatten?o.push.apply(o,m):o.push({scopeParent:a,candidates:m})}else{var p=re.call(a,ce);p&&r.filter(a)&&(n||!e.includes(a))&&o.push(a);var d=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),b=!de(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(d&&b){var s=t(d===!0?a.children:d.children,!0,r);r.flatten?o.push.apply(o,s):o.push({scopeParent:a,candidates:s})}else i.unshift.apply(i,a.children)}}return o},et=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},tt=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||kt(e))&&!et(e)?0:e.tabIndex},Nt=function(e,n){var r=tt(e);return r<0&&n&&!et(e)?0:r},Dt=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},nt=function(e){return e.tagName==="INPUT"},Ft=function(e){return nt(e)&&e.type==="hidden"},Mt=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},_t=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},Lt=function(e){if(!e.name)return!0;var n=e.form||fe(e),r=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var i=_t(o,e.form);return!i||i===e},Vt=function(e){return nt(e)&&e.type==="radio"},Kt=function(e){return Vt(e)&&!Lt(e)},qt=function(e){var n,r=e&&fe(e),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==e){var a,u,c;for(i=!!((a=o)!==null&&a!==void 0&&(u=a.ownerDocument)!==null&&u!==void 0&&u.contains(o)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!i&&o;){var m,p,d;r=fe(o),o=(m=r)===null||m===void 0?void 0:m.host,i=!!((p=o)!==null&&p!==void 0&&(d=p.ownerDocument)!==null&&d!==void 0&&d.contains(o))}}return i},Ne=function(e){var n=e.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},$t=function(e,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=re.call(e,"details>summary:first-of-type"),a=i?e.parentElement:e;if(re.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var u=e;e;){var c=e.parentElement,m=fe(e);if(c&&!c.shadowRoot&&o(c)===!0)return Ne(e);e.assignedSlot?e=e.assignedSlot:!c&&m!==e.ownerDocument?e=m.host:e=c}e=u}if(qt(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Ne(e);return!1},Bt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return re.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},Wt=function(e,n){return!(n.disabled||de(n)||Ft(n)||$t(n,e)||Mt(n)||Bt(n))},Se=function(e,n){return!(Kt(n)||tt(n)<0||!Wt(e,n))},jt=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Ht=function t(e){var n=[],r=[];return e.forEach(function(o,i){var a=!!o.scopeParent,u=a?o.scopeParent:o,c=Nt(u,a),m=a?t(o.candidates):u;c===0?a?n.push.apply(n,m):n.push(u):r.push({documentOrder:i,tabIndex:c,item:o,isScope:a,content:m})}),r.sort(Dt).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},Ie=function(e,n){n=n||{};var r;return n.getShadowRoot?r=Ot([e],n.includeContainer,{filter:Se.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:jt}):r=At(e,n.includeContainer,Se.bind(null,n)),Ht(r)},Ut=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return re.call(e,ce)===!1?!1:Se(n,e)};const rt={...ut},Yt=rt.useInsertionEffect,Gt=Yt||(t=>t());function ne(t){const e=l.useRef(()=>{});return Gt(()=>{e.current=t}),l.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}let De=0;function J(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=e;r&&cancelAnimationFrame(De);const i=()=>t==null?void 0:t.focus({preventScroll:n});o?i():De=requestAnimationFrame(i)}var Y=typeof document<"u"?l.useLayoutEffect:l.useEffect;function se(){return se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},se.apply(this,arguments)}let Fe=!1,Xt=0;const Me=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Xt++;function Zt(){const[t,e]=l.useState(()=>Fe?Me():void 0);return Y(()=>{t==null&&e(Me())},[]),l.useEffect(()=>{Fe=!0},[]),t}const Jt=rt.useId,Ce=Jt||Zt,Qt=l.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:o},middlewareData:{arrow:i}},width:a=14,height:u=7,tipRadius:c=0,strokeWidth:m=0,staticOffset:p,stroke:d,d:b,style:{transform:s,...h}={},...T}=e,O=Ce();if(!o)return null;const v=m*2,f=v/2,x=a/2*(c/-8+1),P=u/2*c/4,[L,F]=r.split("-"),j=ft.isRTL(o),M=!!b,_=L==="top"||L==="bottom",g=p&&F==="end"?"bottom":"top";let B=p&&F==="end"?"right":"left";p&&j&&(B=F==="end"?"left":"right");const H=(i==null?void 0:i.x)!=null?p||i.x:"",q=(i==null?void 0:i.y)!=null?p||i.y:"",E=b||"M0,0"+(" H"+a)+(" L"+(a-x)+","+(u-P))+(" Q"+a/2+","+u+" "+x+","+(u-P))+" Z",N={top:M?"rotate(180deg)":"",left:M?"rotate(90deg)":"rotate(-90deg)",bottom:M?"":"rotate(180deg)",right:M?"rotate(-90deg)":"rotate(90deg)"}[L];return l.createElement("svg",se({},T,{"aria-hidden":!0,ref:n,width:M?a:a+v,height:a,viewBox:"0 0 "+a+" "+(u>a?u:a),style:{position:"absolute",pointerEvents:"none",[B]:H,[g]:q,[L]:_||M?"100%":"calc(100% - "+v/2+"px)",transform:""+N+(s??""),...h}}),v>0&&l.createElement("path",{clipPath:"url(#"+O+")",fill:"none",stroke:d,strokeWidth:v+(b?0:1),d:E}),l.createElement("path",{stroke:v&&!b?T.fill:"none",d:E}),l.createElement("clipPath",{id:O},l.createElement("rect",{x:-f,y:f*(M?-1:1),width:a+v,height:a})))});function zt(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(o=>o(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(o=>o!==n))||[])}}}const en=l.createContext(null),tn=l.createContext(null),ot=()=>{var t;return((t=l.useContext(en))==null?void 0:t.id)||null},Pe=()=>l.useContext(tn);function pe(t){return"data-floating-ui-"+t}function ye(t){const e=l.useRef(t);return Y(()=>{e.current=t}),e}function nn(t,e){var n;let r=[],o=(n=t.find(i=>i.id===e))==null?void 0:n.parentId;for(;o;){const i=t.find(a=>a.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function ae(t,e){let n=t.filter(o=>{var i;return o.parentId===e&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=t.filter(o=>{var i;return(i=r)==null?void 0:i.some(a=>{var u;return o.parentId===a.id&&((u=o.context)==null?void 0:u.open)})}),n=n.concat(r);return n}let z=new WeakMap,le=new WeakSet,ue={},Ee=0;const rn=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,at=t=>t&&(t.host||at(t.parentNode)),on=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=at(n);return t.contains(r)?r:null}).filter(n=>n!=null);function an(t,e,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,a=on(e,t),u=new Set,c=new Set(a),m=[];ue[o]||(ue[o]=new WeakMap);const p=ue[o];a.forEach(d),b(e),u.clear();function d(s){!s||u.has(s)||(u.add(s),s.parentNode&&d(s.parentNode))}function b(s){!s||c.has(s)||[].forEach.call(s.children,h=>{if(Ze(h)!=="script")if(u.has(h))b(h);else{const T=i?h.getAttribute(i):null,O=T!==null&&T!=="false",v=(z.get(h)||0)+1,f=(p.get(h)||0)+1;z.set(h,v),p.set(h,f),m.push(h),v===1&&O&&le.add(h),f===1&&h.setAttribute(o,""),!O&&i&&h.setAttribute(i,"true")}})}return Ee++,()=>{m.forEach(s=>{const h=(z.get(s)||0)-1,T=(p.get(s)||0)-1;z.set(s,h),p.set(s,T),h||(!le.has(s)&&i&&s.removeAttribute(i),le.delete(s)),T||s.removeAttribute(o)}),Ee--,Ee||(z=new WeakMap,z=new WeakMap,le=new WeakSet,ue={})}}function _e(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=U(t[0]).body;return an(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const me=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function it(t,e){const n=Ie(t,me());e==="prev"&&n.reverse();const r=n.indexOf(ee(U(t)));return n.slice(r+1)[0]}function sn(){return it(document.body,"next")}function ln(){return it(document.body,"prev")}function Le(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!$(n,r)}const st={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let un;function Ve(t){t.key==="Tab"&&(t.target,clearTimeout(un))}const Ke=l.forwardRef(function(e,n){const[r,o]=l.useState();Y(()=>(wt()&&o("button"),document.addEventListener("keydown",Ve),()=>{document.removeEventListener("keydown",Ve)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[pe("focus-guard")]:"",style:st};return l.createElement("span",se({},e,i))}),cn=l.createContext(null),fn=()=>l.useContext(cn),qe=20;let Q=[];function Re(t){Q=Q.filter(n=>n.isConnected);let e=t;if(!(!e||Ze(e)==="body")){if(!Ut(e,me())){const n=Ie(e,me())[0];n&&(e=n)}Q.push(e),Q.length>qe&&(Q=Q.slice(-qe))}}function $e(){return Q.slice().reverse().find(t=>t.isConnected)}const dn=l.forwardRef(function(e,n){return l.createElement("button",se({},e,{type:"button",ref:n,tabIndex:-1,style:st}))});function pn(t){const{context:e,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:a=0,returnFocus:u=!0,modal:c=!0,visuallyHiddenDismiss:m=!1,closeOnFocusOut:p=!0}=t,{open:d,refs:b,nodeId:s,onOpenChange:h,events:T,dataRef:O,elements:{domReference:v,floating:f}}=e,x=typeof a=="number"&&a<0,P=Ct(v)&&x,L=rn()?i:!0,F=ye(o),j=ye(a),M=ye(u),_=Pe(),g=fn(),B=l.useRef(null),H=l.useRef(null),q=l.useRef(!1),E=l.useRef(!1),N=g!=null,S=l.useCallback(function(R){return R===void 0&&(R=f),R?Ie(R,me()):[]},[f]),k=l.useCallback(R=>{const w=S(R);return F.current.map(y=>v&&y==="reference"?v:f&&y==="floating"?f:w).filter(Boolean).flat()},[v,f,F,S]);l.useEffect(()=>{if(r||!c)return;function R(y){if(y.key==="Tab"){$(f,ee(U(f)))&&S().length===0&&!P&&he(y);const C=k(),V=te(y);F.current[0]==="reference"&&V===v&&(he(y),y.shiftKey?J(C[C.length-1]):J(C[1])),F.current[1]==="floating"&&V===f&&y.shiftKey&&(he(y),J(C[0]))}}const w=U(f);return w.addEventListener("keydown",R),()=>{w.removeEventListener("keydown",R)}},[r,v,f,c,F,P,S,k]),l.useEffect(()=>{if(r||!p)return;function R(){E.current=!0,setTimeout(()=>{E.current=!1})}function w(y){const C=y.relatedTarget;queueMicrotask(()=>{const V=!($(v,C)||$(f,C)||$(C,f)||$(g==null?void 0:g.portalNode,C)||C!=null&&C.hasAttribute(pe("focus-guard"))||_&&(ae(_.nodesRef.current,s).find(A=>{var D,K;return $((D=A.context)==null?void 0:D.elements.floating,C)||$((K=A.context)==null?void 0:K.elements.domReference,C)})||nn(_.nodesRef.current,s).find(A=>{var D,K;return((D=A.context)==null?void 0:D.elements.floating)===C||((K=A.context)==null?void 0:K.elements.domReference)===C})));C&&V&&!E.current&&C!==$e()&&(q.current=!0,h(!1,y))})}if(f&&ie(v))return v.addEventListener("focusout",w),v.addEventListener("pointerdown",R),!c&&f.addEventListener("focusout",w),()=>{v.removeEventListener("focusout",w),v.removeEventListener("pointerdown",R),!c&&f.removeEventListener("focusout",w)}},[r,v,f,c,s,_,g,h,p]),l.useEffect(()=>{var R;if(r)return;const w=Array.from((g==null||(R=g.portalNode)==null?void 0:R.querySelectorAll("["+pe("portal")+"]"))||[]);if(f){const y=[f,...w,B.current,H.current,F.current.includes("reference")||P?v:null].filter(V=>V!=null),C=c||P?_e(y,L,!L):_e(y);return()=>{C()}}},[r,v,f,c,F,g,P,L]),Y(()=>{if(r||!f)return;const R=U(f),w=ee(R);queueMicrotask(()=>{const y=k(f),C=j.current,V=(typeof C=="number"?y[C]:C.current)||f,A=$(f,w);!x&&!A&&d&&J(V,{preventScroll:V===f})})},[r,d,f,x,k,j]),Y(()=>{if(r||!f)return;let R=!1;const w=U(f),y=ee(w);let V=O.current.openEvent;Re(y);function A(D){let{open:K,reason:oe,event:G,nested:ve}=D;K&&(V=G),oe==="escape-key"&&b.domReference.current&&Re(b.domReference.current),oe==="hover"&&G.type==="mouseleave"&&(q.current=!0),oe==="outside-press"&&(ve?(q.current=!1,R=!0):q.current=!(Et(G)||Rt(G)))}return T.on("openchange",A),()=>{T.off("openchange",A);const D=ee(w),K=$(f,D)||_&&ae(_.nodesRef.current,s).some(ve=>{var ke;return $((ke=ve.context)==null?void 0:ke.elements.floating,D)});(K||V&&["click","mousedown"].includes(V.type))&&b.domReference.current&&Re(b.domReference.current);const G=$e();M.current&&!q.current&&ie(G)&&(!(G!==D&&D!==w.body)||K)&&J(G,{cancelPrevious:!1,preventScroll:R})}},[r,f,M,O,b,T,_,s]),Y(()=>{if(!(r||!g))return g.setFocusManagerState({modal:c,closeOnFocusOut:p,open:d,onOpenChange:h,refs:b}),()=>{g.setFocusManagerState(null)}},[r,g,c,d,h,b,p]),Y(()=>{if(r||!f||typeof MutationObserver!="function"||x)return;const R=()=>{const y=f.getAttribute("tabindex");F.current.includes("floating")||ee(U(f))!==b.domReference.current&&S().length===0?y!=="0"&&f.setAttribute("tabindex","0"):y!=="-1"&&f.setAttribute("tabindex","-1")};R();const w=new MutationObserver(R);return w.observe(f,{childList:!0,subtree:!0,attributes:!0}),()=>{w.disconnect()}},[r,f,b,F,S,x]);function I(R){return r||!m||!c?null:l.createElement(dn,{ref:R==="start"?B:H,onClick:w=>h(!1,w.nativeEvent)},typeof m=="string"?m:"Dismiss")}const X=!r&&L&&(N||c);return l.createElement(l.Fragment,null,X&&l.createElement(Ke,{"data-type":"inside",ref:g==null?void 0:g.beforeInsideRef,onFocus:R=>{if(c){const y=k();J(o[0]==="reference"?y[0]:y[y.length-1])}else if(g!=null&&g.preserveTabOrder&&g.portalNode)if(q.current=!1,Le(R,g.portalNode)){const y=sn()||v;y==null||y.focus()}else{var w;(w=g.beforeOutsideRef.current)==null||w.focus()}}}),!P&&I("start"),n,I("end"),X&&l.createElement(Ke,{"data-type":"inside",ref:g==null?void 0:g.afterInsideRef,onFocus:R=>{if(c)J(k()[0]);else if(g!=null&&g.preserveTabOrder&&g.portalNode)if(p&&(q.current=!0),Le(R,g.portalNode)){const y=ln()||v;y==null||y.focus()}else{var w;(w=g.afterOutsideRef.current)==null||w.focus()}}}))}function Be(t){return ie(t.target)&&t.target.tagName==="BUTTON"}function We(t){return Qe(t)}function mn(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=t,{enabled:a=!0,event:u="click",toggle:c=!0,ignoreMouse:m=!1,keyboardHandlers:p=!0}=e,d=l.useRef(),b=l.useRef(!1);return l.useMemo(()=>a?{reference:{onPointerDown(s){d.current=s.pointerType},onMouseDown(s){s.button===0&&(Oe(d.current,!0)&&m||u!=="click"&&(n&&c&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,s.nativeEvent,"click"):(s.preventDefault(),r(!0,s.nativeEvent,"click"))))},onClick(s){if(u==="mousedown"&&d.current){d.current=void 0;return}Oe(d.current,!0)&&m||(n&&c&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,s.nativeEvent,"click"):r(!0,s.nativeEvent,"click"))},onKeyDown(s){d.current=void 0,!(s.defaultPrevented||!p||Be(s))&&(s.key===" "&&!We(i)&&(s.preventDefault(),b.current=!0),s.key==="Enter"&&r(!(n&&c),s.nativeEvent,"click"))},onKeyUp(s){s.defaultPrevented||!p||Be(s)||We(i)||s.key===" "&&b.current&&(b.current=!1,r(!(n&&c),s.nativeEvent,"click"))}}}:{},[a,o,u,m,p,i,c,n,r])}const vn={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},gn={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},je=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function bn(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:{reference:o,domReference:i,floating:a},dataRef:u}=t,{enabled:c=!0,escapeKey:m=!0,outsidePress:p=!0,outsidePressEvent:d="pointerdown",referencePress:b=!1,referencePressEvent:s="pointerdown",ancestorScroll:h=!1,bubbles:T,capture:O}=e,v=Pe(),f=ne(typeof p=="function"?p:()=>!1),x=typeof p=="function"?f:p,P=l.useRef(!1),L=l.useRef(!1),{escapeKey:F,outsidePress:j}=je(T),{escapeKey:M,outsidePress:_}=je(O),g=ne(E=>{var N;if(!n||!c||!m||E.key!=="Escape")return;const S=(N=u.current.floatingContext)==null?void 0:N.nodeId,k=v?ae(v.nodesRef.current,S):[];if(!F&&(E.stopPropagation(),k.length>0)){let I=!0;if(k.forEach(X=>{var R;if((R=X.context)!=null&&R.open&&!X.context.dataRef.current.__escapeKeyBubbles){I=!1;return}}),!I)return}r(!1,Tt(E)?E.nativeEvent:E,"escape-key")}),B=ne(E=>{var N;const S=()=>{var k;g(E),(k=te(E))==null||k.removeEventListener("keydown",S)};(N=te(E))==null||N.addEventListener("keydown",S)}),H=ne(E=>{var N;const S=P.current;P.current=!1;const k=L.current;if(L.current=!1,d==="click"&&k||S||typeof x=="function"&&!x(E))return;const I=te(E),X="["+pe("inert")+"]",R=U(a).querySelectorAll(X);let w=W(I)?I:null;for(;w&&!Ae(w);){const A=pt(w);if(Ae(A)||!W(A))break;w=A}if(R.length&&W(I)&&!St(I)&&!$(I,a)&&Array.from(R).every(A=>!$(w,A)))return;if(ie(I)&&a){const A=I.clientWidth>0&&I.scrollWidth>I.clientWidth,D=I.clientHeight>0&&I.scrollHeight>I.clientHeight;let K=D&&E.offsetX>I.clientWidth;if(D&&mt(I).direction==="rtl"&&(K=E.offsetX<=I.offsetWidth-I.clientWidth),K||A&&E.offsetY>I.clientHeight)return}const y=(N=u.current.floatingContext)==null?void 0:N.nodeId,C=v&&ae(v.nodesRef.current,y).some(A=>{var D;return be(E,(D=A.context)==null?void 0:D.elements.floating)});if(be(E,a)||be(E,i)||C)return;const V=v?ae(v.nodesRef.current,y):[];if(V.length>0){let A=!0;if(V.forEach(D=>{var K;if((K=D.context)!=null&&K.open&&!D.context.dataRef.current.__outsidePressBubbles){A=!1;return}}),!A)return}r(!1,E,"outside-press")}),q=ne(E=>{var N;const S=()=>{var k;H(E),(k=te(E))==null||k.removeEventListener(d,S)};(N=te(E))==null||N.addEventListener(d,S)});return l.useEffect(()=>{if(!n||!c)return;u.current.__escapeKeyBubbles=F,u.current.__outsidePressBubbles=j;function E(k){r(!1,k,"ancestor-scroll")}const N=U(a);m&&N.addEventListener("keydown",M?B:g,M),x&&N.addEventListener(d,_?q:H,_);let S=[];return h&&(W(i)&&(S=ge(i)),W(a)&&(S=S.concat(ge(a))),!W(o)&&o&&o.contextElement&&(S=S.concat(ge(o.contextElement)))),S=S.filter(k=>{var I;return k!==((I=N.defaultView)==null?void 0:I.visualViewport)}),S.forEach(k=>{k.addEventListener("scroll",E,{passive:!0})}),()=>{m&&N.removeEventListener("keydown",M?B:g,M),x&&N.removeEventListener(d,_?q:H,_),S.forEach(k=>{k.removeEventListener("scroll",E)})}},[u,a,i,o,m,x,d,n,r,h,c,F,j,g,M,B,H,_,q]),l.useEffect(()=>{P.current=!1},[x,d]),l.useMemo(()=>c?{reference:{onKeyDown:g,[vn[s]]:E=>{b&&r(!1,E.nativeEvent,"reference-press")}},floating:{onKeyDown:g,onMouseDown(){L.current=!0},onMouseUp(){L.current=!0},[gn[d]]:()=>{P.current=!0}}}:{},[c,b,d,s,r,g])}function hn(t){const{open:e=!1,onOpenChange:n,elements:r}=t,o=Ce(),i=l.useRef({}),[a]=l.useState(()=>zt()),u=ot()!=null,[c,m]=l.useState(r.reference),p=ne((s,h,T)=>{i.current.openEvent=s?h:void 0,a.emit("openchange",{open:s,event:h,reason:T,nested:u}),n==null||n(s,h,T)}),d=l.useMemo(()=>({setPositionReference:m}),[]),b=l.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return l.useMemo(()=>({dataRef:i,open:e,onOpenChange:p,elements:b,events:a,floatingId:o,refs:d}),[e,p,b,a,o,d])}function yn(t){t===void 0&&(t={});const{nodeId:e}=t,n=hn({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,o=r.elements,[i,a]=l.useState(null),[u,c]=l.useState(null),p=(o==null?void 0:o.reference)||i,d=l.useRef(null),b=Pe();Y(()=>{p&&(d.current=p)},[p]);const s=dt({...t,elements:{...o,...u&&{reference:u}}}),h=l.useCallback(x=>{const P=W(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;c(P),s.refs.setReference(P)},[s.refs]),T=l.useCallback(x=>{(W(x)||x===null)&&(d.current=x,a(x)),(W(s.refs.reference.current)||s.refs.reference.current===null||x!==null&&!W(x))&&s.refs.setReference(x)},[s.refs]),O=l.useMemo(()=>({...s.refs,setReference:T,setPositionReference:h,domReference:d}),[s.refs,T,h]),v=l.useMemo(()=>({...s.elements,domReference:p}),[s.elements,p]),f=l.useMemo(()=>({...s,...r,refs:O,elements:v,nodeId:e}),[s,O,v,e,r]);return Y(()=>{r.dataRef.current.floatingContext=f;const x=b==null?void 0:b.nodesRef.current.find(P=>P.id===e);x&&(x.context=f)}),l.useMemo(()=>({...s,context:f,refs:O,elements:v}),[s,O,v,f])}const He="active",Ue="selected";function we(t,e,n){const r=new Map,o=n==="item";let i=t;if(o&&t){const{[He]:a,[Ue]:u,...c}=t;i=c}return{...n==="floating"&&{tabIndex:-1},...i,...e.map(a=>{const u=a?a[n]:null;return typeof u=="function"?t?u(t):null:u}).concat(t).reduce((a,u)=>(u&&Object.entries(u).forEach(c=>{let[m,p]=c;if(!(o&&[He,Ue].includes(m)))if(m.indexOf("on")===0){if(r.has(m)||r.set(m,[]),typeof p=="function"){var d;(d=r.get(m))==null||d.push(p),a[m]=function(){for(var b,s=arguments.length,h=new Array(s),T=0;T<s;T++)h[T]=arguments[T];return(b=r.get(m))==null?void 0:b.map(O=>O(...h)).find(O=>O!==void 0)}}}else a[m]=p}),a),{})}}function En(t){t===void 0&&(t=[]);const e=t,n=l.useCallback(i=>we(i,t,"reference"),e),r=l.useCallback(i=>we(i,t,"floating"),e),o=l.useCallback(i=>we(i,t,"item"),t.map(i=>i==null?void 0:i.item));return l.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}const Rn=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function wn(t,e){var n;e===void 0&&(e={});const{open:r,floatingId:o}=t,{enabled:i=!0,role:a="dialog"}=e,u=(n=Rn.get(a))!=null?n:a,c=Ce(),p=ot()!=null;return l.useMemo(()=>{if(!i)return{};const d={id:o,...u&&{role:u}};return u==="tooltip"||a==="label"?{reference:{["aria-"+(a==="label"?"labelledby":"describedby")]:r?o:void 0},floating:d}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":u==="alertdialog"?"dialog":u,"aria-controls":r?o:void 0,...u==="listbox"&&{role:"combobox"},...u==="menu"&&{id:c},...u==="menu"&&p&&{role:"menuitem"},...a==="select"&&{"aria-autocomplete":"none"},...a==="combobox"&&{"aria-autocomplete":"list"}},floating:{...d,...u==="menu"&&{"aria-labelledby":c}},item(b){let{active:s,selected:h}=b;const T={role:"option",...s&&{id:o+"-option"}};switch(a){case"select":return{...T,"aria-selected":s&&h};case"combobox":return{...T,...s&&{"aria-selected":!0}}}return{}}}},[i,a,u,r,o,c,p])}const xn="_popover_16ogt_1",Tn="_title_16ogt_28",Sn={"popover-wrapper":"_popover-wrapper_16ogt_1",popover:xn,title:Tn},xe=lt.bind(Sn),Ye=16,Ge=8,In=["top","right","bottom","left"],Cn=["right","right-start","right-end","left","left-start","left-end"],Pn=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"],Xe=({className:t,content:e,children:n,placement:r="bottom",fallbackPlacements:o=Pn,title:i,arrowOffset:a=16,safeZone:u=4,arrowColor:c="white",dataAutomationId:m,isOpened:p,setIsOpened:d})=>{const b=l.useRef(null),[s,h]=l.useState(!1),T=d?p:s,O=g=>{d?d(g):h(g)},{placement:v,refs:f,floatingStyles:x,context:P}=yn({open:T,onOpenChange:O,placement:r,middleware:[vt(({rects:g,placement:B})=>({mainAxis:u+Ge,alignmentAxis:((Cn.includes(B)?g.reference.height:g.reference.width)-Ye)/2-a})),gt({fallbackAxisSideDirection:"start",fallbackPlacements:o}),bt({element:b})],whileElementsMounted:ht}),L=mn(P),F=bn(P),j=wn(P),{getReferenceProps:M,getFloatingProps:_}=En([L,F,j]);return Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{ref:f.setReference,...M(),className:xe("popover-wrapper"),children:n}),T&&Z.jsx(pn,{context:P,modal:!1,children:Z.jsxs("div",{className:xe("popover",t),"data-automation-id":m,ref:f.setFloating,style:x,..._,children:[Z.jsx(Qt,{ref:b,context:P,width:Ye,height:Ge,fill:c,staticOffset:In.includes(v)?null:a}),i&&Z.jsx("div",{className:xe("title"),children:i}),e]})})]})};try{Xe.displayName="Popover",Xe.__docgenInfo={description:"",displayName:"Popover",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ReactNode"}},placement:{defaultValue:null,description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},fallbackPlacements:{defaultValue:{value:`[
  'top',
  'top-start',
  'top-end',
  'right',
  'right-start',
  'right-end',
  'bottom',
  'bottom-start',
  'bottom-end',
  'left',
  'left-start',
  'left-end',
]`},description:"",name:"fallbackPlacements",required:!1,type:{name:"Placement[]"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},arrowOffset:{defaultValue:{value:"16"},description:"",name:"arrowOffset",required:!1,type:{name:"number"}},safeZone:{defaultValue:{value:"4"},description:"",name:"safeZone",required:!1,type:{name:"number"}},arrowColor:{defaultValue:{value:"white"},description:"",name:"arrowColor",required:!1,type:{name:"string"}},dataAutomationId:{defaultValue:null,description:"",name:"dataAutomationId",required:!1,type:{name:"string"}},isOpened:{defaultValue:null,description:"",name:"isOpened",required:!1,type:{name:"boolean"}},setIsOpened:{defaultValue:null,description:"",name:"setIsOpened",required:!1,type:{name:"((isOpened: boolean) => void)"}}}}}catch{}export{Xe as P};
//# sourceMappingURL=popover-72ba30c5.js.map
