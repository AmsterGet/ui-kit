{"version":3,"file":"table.stories-f20f09ca.js","sources":["../../src/components/icons/svg/arrowDown.svg","../../src/components/icons/svg/arrowUp.svg","../../src/components/icons/svg/meatballMenu.svg","../../src/components/table/types.ts","../../src/components/table/utils.ts","../../src/components/table/table.tsx"],"sourcesContent":["export default \"__VITE_ASSET__1c82f3e9__\"","export default \"__VITE_ASSET__fb15b9d9__\"","export default \"__VITE_ASSET__5c57c003__\"","import { ReactNode } from 'react';\n\nexport interface Column {\n  key: string;\n  header: string;\n}\nexport interface PrimaryColumn extends Column {\n  primary: boolean;\n}\nexport interface FixedColumn extends Column {\n  width: string | number;\n  align?: 'left' | 'center' | 'right';\n}\nexport interface RowConfigs {\n  size?: 'small' | 'medium' | 'large';\n}\nexport interface DetailedCellData {\n  content: string | number;\n  component: ReactNode;\n}\nexport interface RowData {\n  id: string | number;\n  [key: string]: DetailedCellData | RowConfigs | string | number | any;\n  rowConfigs?: RowConfigs;\n}\nexport enum SortDirection {\n  ASC = 'asc',\n  DESC = 'desc',\n}\nexport interface SortConfig {\n  key: string;\n  direction: SortDirection;\n}\nexport interface TableComponentProps {\n  data: RowData[];\n  primaryColumn: Column;\n  fixedColumns: FixedColumn[];\n  rowActionMenu?: ReactNode;\n  selectable?: boolean;\n  className?: string;\n  headerClassName?: string;\n  rowClassName?: string;\n  selectedRowIds?: (string | number)[];\n  sortingDirection?: SortDirection;\n  sortingColumn?: Column;\n  sortableColumns?: string[];\n  onChangeSorting?: (sortConfig?: SortConfig) => void;\n  onToggleRowSelection?: (id: string | number) => void;\n  onToggleAllRowsSelection?: () => void;\n}\n","import { Column, RowData, SortConfig, SortDirection } from './types';\n\nexport const sortTableData = (tableData: RowData[], sortConfig?: SortConfig): RowData[] => {\n  if (sortConfig) {\n    tableData.sort((a, b) => {\n      const contentA = a[sortConfig.key].content || a[sortConfig.key];\n      const contentB = b[sortConfig.key].content || b[sortConfig.key];\n      console.log(contentA, contentB);\n      if (contentA < contentB) {\n        return sortConfig.direction === SortDirection.ASC ? -1 : 1;\n      }\n      if (contentA > contentB) {\n        return sortConfig.direction === SortDirection.ASC ? 1 : -1;\n      }\n      return 0;\n    });\n  }\n  return tableData;\n};\n\nexport const getColumnsKeys = (columns: Column[]): string[] => {\n  return columns.map((column) => column.key);\n};\n","import { CSSProperties, useMemo, useState, FC } from 'react';\nimport styles from './table.module.scss';\nimport classNames from 'classnames/bind';\nimport { ArrowDownIcon, ArrowUpIcon } from '@components/icons';\nimport { FixedColumn, PrimaryColumn, RowData, TableComponentProps, SortDirection } from './types';\nimport { Checkbox } from '@components/checkbox';\nimport { getColumnsKeys } from './utils';\n\nconst cx = classNames.bind(styles);\n\nexport const Table: FC<TableComponentProps> = ({\n  data,\n  primaryColumn,\n  fixedColumns,\n  rowActionMenu,\n  className = '',\n  rowClassName = '',\n  headerClassName = '',\n  selectable = false,\n  selectedRowIds = [],\n  sortingDirection = SortDirection.ASC,\n  sortingColumn = primaryColumn,\n  sortableColumns = getColumnsKeys([primaryColumn, ...fixedColumns]),\n  onChangeSorting = () => {},\n  onToggleRowSelection = () => {},\n  onToggleAllRowsSelection = () => {},\n}) => {\n  const [hoveredColumn, setHoveredColumn] = useState<string | null>(null);\n  const [hoveredRow, setHoveredRow] = useState<number | null>(null);\n\n  const columns: (PrimaryColumn | FixedColumn)[] = useMemo(() => {\n    return [{ ...primaryColumn, primary: true }, ...fixedColumns];\n  }, [primaryColumn, fixedColumns]);\n\n  const handleSort = (key: string) => {\n    if (!sortableColumns.includes(key)) return;\n    onChangeSorting({ key, direction: sortingDirection });\n  };\n\n  const getCellStyle = (column: FixedColumn): CSSProperties => {\n    return {\n      width: column.width,\n      textAlign: column.align,\n    };\n  };\n\n  const handleMouseEnter = (key: string) => {\n    setHoveredColumn(key);\n  };\n\n  const handleMouseLeave = () => {\n    setHoveredColumn(null);\n  };\n\n  const handleRowMouseEnter = (index: number) => {\n    setHoveredRow(index);\n  };\n\n  const handleRowMouseLeave = () => {\n    setHoveredRow(null);\n  };\n\n  const handleRowCheck = (id: number | string) => {\n    onToggleRowSelection(id);\n  };\n\n  const handleCheckAll = () => {\n    onToggleAllRowsSelection();\n  };\n\n  const isAllChecked: boolean = data.every((item) => selectedRowIds.includes(item.id));\n  const isAnyChecked: boolean = data.some((item) => selectedRowIds.includes(item.id));\n\n  const getSizeClassName = (item: RowData): string => {\n    const size = item.rowConfigs?.size ?? 'default';\n    return `size-${size}`;\n  };\n\n  const getSortIcon = (columnKey: string) => {\n    if (!sortableColumns.includes(columnKey)) return;\n    if (sortingColumn?.key === columnKey) {\n      return sortingDirection === SortDirection.ASC ? <ArrowUpIcon /> : <ArrowDownIcon />;\n    }\n    return <ArrowUpIcon />;\n  };\n\n  return (\n    <div className={cx('table', className)}>\n      <div className={cx('table-header', headerClassName)}>\n        {selectable && (\n          <div className={cx('table-header-cell', 'checkbox-cell')}>\n            {isAnyChecked && (\n              <Checkbox\n                value={isAllChecked}\n                partiallyChecked={isAnyChecked}\n                onChange={handleCheckAll}\n                className={cx('checkbox-cell')}\n              />\n            )}\n          </div>\n        )}\n        {columns.map((column) => (\n          <button\n            key={column.key}\n            className={cx('table-header-cell', {\n              [`align-${(column as FixedColumn).align}`]: 'align' in column,\n              'primary-cell': 'primary' in column && column.primary,\n              'sortable-cell': sortableColumns.includes(column.key),\n            })}\n            style={getCellStyle(column as FixedColumn)}\n          >\n            <div\n              className={cx('label')}\n              onClick={() => handleSort(column.key)}\n              onMouseEnter={() => handleMouseEnter(column.key)}\n              onMouseLeave={handleMouseLeave}\n            >\n              <span>{column.header}</span>\n              {(hoveredColumn === column.key || sortingColumn?.key === column.key) &&\n                getSortIcon(column.key)}\n            </div>\n          </button>\n        ))}\n        {rowActionMenu && <div className={cx('table-header-cell', 'action-menu-cell')} />}\n      </div>\n\n      <div className={cx('table-body')}>\n        {data.map((item, index) => (\n          <div\n            key={item.id}\n            className={cx('table-row', getSizeClassName(item), rowClassName)}\n            onMouseEnter={() => handleRowMouseEnter(index)}\n            onMouseLeave={handleRowMouseLeave}\n          >\n            {selectable && (\n              <div className={cx('table-cell', 'checkbox-cell')}>\n                {(isAnyChecked || hoveredRow === index) && (\n                  <Checkbox\n                    value={selectedRowIds.includes(item.id)}\n                    onChange={() => handleRowCheck(item.id)}\n                    className={cx('checkbox-cell')}\n                  />\n                )}\n              </div>\n            )}\n            <div className={cx('table-row-content')}>\n              {columns.map((column) => (\n                <div\n                  key={column.key}\n                  className={cx('table-cell', {\n                    'primary-cell': 'primary' in column && column.primary,\n                  })}\n                  style={getCellStyle(column as FixedColumn)}\n                >\n                  {item[column.key].component || item[column.key].content || item[column.key]}\n                </div>\n              ))}\n\n              {rowActionMenu && (\n                <div className={cx('table-cell', 'action-menu-cell')}>{rowActionMenu}</div>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n"],"names":["SvgArrowDown","props","React.createElement","SvgArrowUp","SvgMeatballMenu","SortDirection","sortTableData","tableData","sortConfig","a","b","contentA","contentB","getColumnsKeys","columns","column","cx","classNames","styles","Table","data","primaryColumn","fixedColumns","rowActionMenu","className","rowClassName","headerClassName","selectable","selectedRowIds","sortingDirection","sortingColumn","sortableColumns","onChangeSorting","onToggleRowSelection","onToggleAllRowsSelection","hoveredColumn","setHoveredColumn","useState","hoveredRow","setHoveredRow","useMemo","handleSort","key","getCellStyle","handleMouseEnter","handleMouseLeave","handleRowMouseEnter","index","handleRowMouseLeave","handleRowCheck","id","handleCheckAll","isAllChecked","item","isAnyChecked","getSizeClassName","_a","getSortIcon","columnKey","jsx","ArrowUpIcon","ArrowDownIcon","jsxs","Checkbox"],"mappings":"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"}